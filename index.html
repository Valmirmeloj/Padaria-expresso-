<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Padaria Expresso</title>
    
    <!-- ConexÃ£o com seus arquivos de PWA (jÃ¡ existentes no seu GitHub) -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#f97316">
    
    <!-- Fontes e Ãcones -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f9fafb; color: #111827; }
        .font-brand { font-family: 'Playfair Display', serif; }
        
        .header-premium {
            background: white;
            border-bottom: 1px solid #f3f4f6;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .card-produto {
            background: white;
            border-radius: 20px;
            padding: 16px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.02);
            border: 1px solid #f3f4f6;
            transition: transform 0.2s;
        }
        .card-produto:active { transform: scale(0.98); }

        .btn-acao {
            background: #111827;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .input-entrega {
            width: 100%;
            background: #f3f4f6;
            border: 1px solid transparent;
            padding: 14px 14px 14px 45px;
            border-radius: 14px;
            outline: none;
            transition: 0.3s;
        }
        .input-entrega:focus { background: white; border-color: #f97316; }

        .barra-pedido {
            position: fixed;
            bottom: 25px;
            left: 20px;
            right: 20px;
            background: #111827;
            padding: 15px 25px;
            border-radius: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 100;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>

    <header class="header-premium sticky top-0 z-50">
        <img src="logo.png" alt="Logo" class="w-14 h-14 object-contain">
        <div class="text-center">
            <h1 class="font-brand text-2xl">Padaria Expresso</h1>
            <p class="text-[10px] uppercase tracking-[0.3em] text-gray-400 font-bold">Qualidade no seu bairro</p>
        </div>
    </header>

    <main class="p-6 max-w-md mx-auto">
        <!-- DESTAQUES -->
        <h2 class="text-xs font-black text-gray-400 uppercase tracking-widest mb-4">Mais Pedidos</h2>
        <div id="destaques" class="flex gap-4 overflow-x-auto pb-4 no-scrollbar"></div>

        <!-- LISTA GERAL -->
        <h2 class="text-xs font-black text-gray-400 uppercase tracking-widest mt-6 mb-4">Itens de Mercearia</h2>
        <div id="geral" class="grid grid-cols-2 gap-4"></div>

        <!-- ENDEREÃ‡O -->
        <div class="mt-10 bg-white p-6 rounded-3xl border border-gray-100 shadow-sm mb-32">
            <h3 class="font-bold mb-4 flex items-center gap-2"><i class="fas fa-truck text-orange-500"></i> Onde Entregar?</h3>
            <div class="space-y-3">
                <div class="relative">
                    <i class="fas fa-building absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    <input type="text" id="condominio" placeholder="CondomÃ­nio" class="input-entrega">
                </div>
                <div class="flex gap-3">
                    <div class="relative w-1/2">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-[10px] font-bold text-gray-400">BL</span>
                        <input type="text" id="bloco" placeholder="Bloco" class="input-entrega pl-10">
                    </div>
                    <div class="relative w-1/2">
                        <i class="fas fa-door-open absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                        <input type="text" id="apto" placeholder="Apto" class="input-entrega">
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="barra-pedido">
        <div class="text-white">
            <span id="contagem" class="text-[10px] opacity-50 uppercase font-bold">0 itens selecionados</span>
            <div id="total" class="text-xl font-bold">R$ 0,00</div>
        </div>
        <button onclick="enviarPedido()" class="bg-orange-500 text-white px-6 py-3 rounded-xl font-bold text-sm shadow-lg shadow-orange-900/20 active:scale-95 transition-all">
            Pedir Agora
        </button>
    </div>

    <script>
        // LISTA ATUALIZADA COM OS NOMES EXATOS DO SEU GITHUB
        const PRODUTOS = [
            { id: 1, destaque: true, nome: "PÃ£o FrancÃªs", preco: 1.00, img: "pao.jpg" },
            { id: 2, destaque: true, nome: "CafÃ© PilÃ£o 500g", preco: 22.90, img: "cafe500.jpg" },
            { id: 3, destaque: true, nome: "Margarina Qualy 500g", preco: 12.50, img: "qualy500.jpg" },
            { id: 4, nome: "Sal Lebre 1kg", preco: 4.50, img: "sal.jpg" },
            { id: 5, nome: "CafÃ© PilÃ£o 250g", preco: 11.50, img: "cafe250.jpg" },
            { id: 6, nome: "GuaranÃ¡ AntÃ¡rtica 2L", preco: 10.90, img: "guaranÃ¡.jpg" },
            { id: 7, nome: "Margarina Qualy 250g", preco: 7.20, img: "qualy250.jpg" }
        ];

        let carrinho = [];

        function renderizar() {
            const containerDest = document.getElementById('destaques');
            const containerGeral = document.getElementById('geral');
            
            PRODUTOS.forEach(p => {
                const html = `
                    <div class="card-produto ${p.destaque ? 'min-w-[160px]' : ''}">
                        <img src="${p.img}" class="w-16 h-16 object-contain mx-auto mb-3">
                        <h3 class="font-bold text-[13px] mb-1 truncate">${p.nome}</h3>
                        <div class="flex justify-between items-center mt-2">
                            <span class="text-orange-600 font-extrabold text-sm">R$ ${p.preco.toFixed(2)}</span>
                            <div class="flex items-center gap-2">
                                <button onclick="mudar(${p.id}, 1)" class="btn-acao"><i class="fas fa-plus text-[10px]"></i></button>
                            </div>
                        </div>
                        <div id="qtd-${p.id}" class="text-[10px] font-bold text-gray-400 mt-2 hidden"></div>
                    </div>`;
                p.destaque ? containerDest.innerHTML += html : containerGeral.innerHTML += html;
            });
        }

        function mudar(id, val) {
            let item = carrinho.find(i => i.id === id);
            if(item) {
                item.qtd += val;
                if(item.qtd <= 0) carrinho = carrinho.filter(i => i.id !== id);
            } else {
                const p = PRODUTOS.find(prod => prod.id === id);
                carrinho.push({...p, qtd: 1});
            }
            atualizar();
        }

        function atualizar() {
            const total = carrinho.reduce((a, b) => a + (b.preco * b.qtd), 0);
            const itens = carrinho.reduce((a, b) => a + b.qtd, 0);
            document.getElementById('total').innerText = `R$ ${total.toFixed(2)}`;
            document.getElementById('contagem').innerText = `${itens} itens selecionados`;
            
            PRODUTOS.forEach(p => {
                const item = carrinho.find(i => i.id === p.id);
                const el = document.getElementById(`qtd-${p.id}`);
                if(item) {
                    el.innerText = `ðŸ›’ No carrinho: ${item.qtd}`;
                    el.classList.remove('hidden');
                } else {
                    el.classList.add('hidden');
                }
            });
        }

        function enviarPedido() {
            const cond = document.getElementById('condominio').value;
            const b = document.getElementById('bloco').value;
            const a = document.getElementById('apto').value;

            if(carrinho.length === 0) return alert("Adicione itens ao seu pedido!");
            if(!cond || !a) return alert("Por favor, preencha o condomÃ­nio e o apto.");

            let texto = `*ðŸž NOVO PEDIDO - PADARIA EXPRESSO*\n`;
            texto += `\nðŸ“ *ENTREGA:* \n${cond.toUpperCase()}\nBloco ${b} - Apto ${a}\n`;
            texto += `\n*â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*\n`;
            carrinho.forEach(i => {
                texto += `âœ… *${i.qtd}x* ${i.nome} - R$ ${(i.preco * i.qtd).toFixed(2)}\n`;
            });
            texto += `*â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*\n`;
            texto += `*TOTAL: ${document.getElementById('total').innerText}*`;

            const fone = "5511999999999"; // SUBSTITUA PELO SEU NÃšMERO
            window.open(`https://api.whatsapp.com/send?phone=${fone}&text=${encodeURIComponent(texto)}`);
        }

        // Script para registrar o seu sw.js que jÃ¡ estÃ¡ no GitHub
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js');
            });
        }

        window.onload = renderizar;
    </script>
</body>
</html>
